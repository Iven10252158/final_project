{"version":3,"sources":["webpack:///./src/views/front/OrderCheckout.vue","webpack:///./src/views/front/OrderCheckout.vue?0c90","webpack:///./src/views/front/OrderCheckout.vue?917e","webpack:///./src/components/front_components/Footer.vue","webpack:///./src/components/front_components/Footer.vue?c73a","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","style","active","isLoading","orderForm","is_paid","products","item","key","src","product","imageUrl","alt","title","program","$filters","currency","final_total","orderProductTotalQty","length","user","name","tel","email","address","id","total","dateAndTime","to","type","payOrder","inject","components","Footer","data","orderID","create_at","orderProductQty","methods","getOrder","this","$route","params","order_Id","url","$http","get","then","res","success","order","Object","keys","Date","toLocaleString","catch","err","$swal","icon","message","post","console","log","emitter","emit","mounted","__exports__","render","script","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-5a8136aa.dd3c0b63.js","sourcesContent":["<template>\r\n    <Loading :active=\"isLoading\">\r\n          <div class=\"loadingio-spinner-dual-ring-7s087i3q3b3\"><div class=\"ldio-us6frdv3wm\">\r\n          <div></div><div><div></div></div>\r\n          </div></div>\r\n    </Loading>\r\n    <div class=\"banner bg-cover d-flex justify-content-center align-items-center\" style=\"background-image:url('https://storage.googleapis.com/vue-course-api.appspot.com/iven_vue3_course/1627615007422.jpeg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=VALCCcOmRFUCmv8jFQWLrKV94N6QyWdDBp9KTLyokLq9lJL3JOpFfBbNHxmW1t7eP4jPWzVZZbsOH4FV%2BRsZXDF1CrtOVQg9QCF8gpOPex%2BNJzL%2BtVjdmzYrIgCBYJQe5w2Yy0DOzQHlHjZhwCDeR6zWzcRVcFNIjSr675bWt%2FpVkE412zgwOKwlGQE6bQG38vw0MEWsymeHG3na2j5Q6UTveeuU9iQBc%2FMVp4tQFsp%2BNJl4YTKavmFNFdTVh5FFtTlPtOaz4id62h9KoaC12rnhuBA1h3b5lhYMaGItEZMffZRFyCfKst5OqqRIGvBbX5JmM7hG6%2BBtaWVHv4Jurw%3D%3D');height:400px\">\r\n        <div class=\"banner-text text-white\">\r\n            <div class=\"fs-1\">訂單資訊</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"container my-4\">\r\n        <h4 class=\"text-primary mb-0 py-3\">訂單資料</h4>\r\n        <div class=\"row innerHeight border px-3 d-flex justify-content-center pt-3\">\r\n            <div class=\"col-md-6\">\r\n                <div v-if=\"orderForm.is_paid\">\r\n                    <h2 class=\"text-center text-danger\">付款完成</h2>\r\n                </div>\r\n                <div class=\"d-flex flex-column\"  v-for=\"item in orderForm.products\" :key=\"item\">\r\n                    <img class=\"img-fluid\" :src=\"item.product.imageUrl\" alt=\"購買的產品圖片\" style=\"height: 200px; object-fit: cover;\">\r\n                    <div class=\"pt-1\">\r\n                      <p class=\"mb-2\">{{ item.product.title }}</p>\r\n                      <p class=\"text-danger mb-2\">{{ item.product.program }}</p>\r\n                      <p>NT$ {{ $filters.currency(item.final_total) }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <hr class=\"mt-0 d-block d-md-none\">\r\n              <div class=\"d-flex flex-column\" :class=\"{ orderInfo : orderProductTotalQty.length > 1 }\">\r\n                  <h4 class=\"mb-3 text-center\">訂購人資訊</h4>\r\n                  <div class=\"row\" v-if=\"orderForm.user\">\r\n                    <div class=\"col-5 h6 text-secondary text-center\">姓名</div>\r\n                    <div class=\"col-7\">{{ orderForm.user.name }}</div>\r\n                    <div class=\"col-5 h6 text-secondary text-center\">電話</div>\r\n                    <div class=\"col-7\">{{ orderForm.user.tel }}</div>\r\n                    <div class=\"col-5 h6 text-secondary text-center\">Email</div>\r\n                    <div class=\"col-7\">{{ orderForm.user.email }}</div>\r\n                    <div class=\"col-5 h6 text-secondary text-center\">地址</div>\r\n                    <div class=\"col-7\">{{ orderForm.user.address }}</div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\" v-if=\"orderForm\">\r\n                    <div class=\"col-5 h6 text-secondary text-center\">訂單編號</div>\r\n                    <div class=\"col-7\">{{ orderForm.id }}</div>\r\n                    <div class=\"col-5 h6 text-secondary text-center\">付款金額</div>\r\n                    <div class=\"col-7\">NT$ {{ $filters.currency(orderForm.total) }}</div>\r\n                    <div class=\"col-5 h6 text-secondary text-center\">付款狀態</div>\r\n                    <div class=\"col-7\" :class=\"{'text-primary':orderForm.is_paid}\">{{ orderForm.is_paid? '付款成功':'尚未付款' }}</div>\r\n                </div>\r\n                <div class=\"row d-flex\" v-if=\"orderForm.is_paid\">\r\n                    <div class=\"col-5 h6 text-secondary text-center\">訂單成立</div>\r\n                    <div class=\"col-7 ps-2 text-primary\">{{ dateAndTime }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"d-flex justify-content-end\">\r\n            <template v-if=\"orderForm.is_paid\">\r\n              <router-link to=\"/products\" class=\"btn btn-outline-primary mt-4 mb-0 w-25 me-3 stepLink\">\r\n                續繼購物\r\n              </router-link>\r\n            </template>\r\n            <button type=\"button\" class=\"btn btn-primary w-25 mt-4 mb-0 text-white\" @click.prevent=\"payOrder\"\r\n            :class=\"{'disabled':orderForm.is_paid}\">確認付款去</button>\r\n        </div>\r\n    </div>\r\n    <Footer class=\"footer\"></Footer>\r\n</template>\r\n\r\n<script>\r\nimport Footer from '@/components/front_components/Footer.vue'\r\nexport default {\r\n  inject: ['emitter'],\r\n  components: {\r\n    Footer\r\n  },\r\n  data () {\r\n    return {\r\n      orderID: '',\r\n      create_at: '',\r\n      orderForm: [],\r\n      orderProductQty: [],\r\n      orderProductTotalQty: [],\r\n      dateAndTime: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      this.orderID = this.$route.params.order_Id\r\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/order/${this.orderID}`\r\n      this.$http.get(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.orderForm = res.data.order\r\n            this.orderProductQty = res.data.order.products\r\n            const orderProductQty = Object.keys(this.orderProductQty)\r\n            this.orderProductTotalQty = orderProductQty\r\n            this.create_at = res.data.order.create_at\r\n            this.dateAndTime = new Date(this.create_at * 1000).toLocaleString()\r\n          }\r\n        }).catch(err => {\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: `${err.data.message}`\r\n          })\r\n        })\r\n    },\r\n    payOrder () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/pay/${this.orderID}`\r\n      this.$http.post(url)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            console.log('payOrder', res)\r\n            this.isLoading = false\r\n            this.getOrder()\r\n            this.emitter.emit('update-qty')\r\n          }\r\n        }).catch(err => {\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: `${err.data.message}`\r\n          })\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n$text-color:#fff;\r\n$main-text-color:rgb(90, 147, 88);\r\n    .container{\r\n      position: relative;\r\n    }\r\n    .bg-cover{\r\n      background-position: center center;\r\n      background-size: cover;\r\n    }\r\n    .stepLink{\r\n      margin-top: 80px;\r\n      color:$main-text-color;\r\n      &:hover{\r\n        color:$text-color;\r\n      }\r\n    }\r\n    .orderInfo{\r\n      position: absolute;\r\n      top: 50%;\r\n      transForm: translateY(-50%);\r\n    }\r\n    .innerHeight{\r\n      min-height: calc( 59vh - 72px)\r\n    }\r\n    .footer{\r\n      height: 72px;\r\n    }\r\n</style>\r\n","import { render } from \"./OrderCheckout.vue?vue&type=template&id=ac6e474c\"\nimport script from \"./OrderCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheckout.vue?vue&type=script&lang=js\"\n\nimport \"./OrderCheckout.vue?vue&type=style&index=0&id=ac6e474c&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\uer\\\\final_project\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderCheckout.vue?vue&type=style&index=0&id=ac6e474c&lang=scss\"","<template>\r\n    <footer class=\"d-flex flex-column flex-sm-row justify-content-sm-center align-items-center\r\n      text-white bg-secondary py-3\">\r\n        <div class=\"pt-2\">\r\n            <h5 class=\"mb-0\">僅作業練習，無任何商業用途</h5>\r\n        </div>\r\n    </footer>\r\n</template>\r\n","import { render } from \"./Footer.vue?vue&type=template&id=d00599b0\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\uer\\\\final_project\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}