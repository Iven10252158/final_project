{"version":3,"sources":["webpack:///./src/views/admin/Admin.vue","webpack:///./src/views/admin/Admin.vue?45fe"],"names":["class","href.preventDefault","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","data-feather","href","logout","to","checkSuccess","inject","data","methods","api","this","$http","post","then","res","success","document","cookie","$router","push","console","log","catch","err","$swal","icon","title","message","checkLogin","token","replace","defaults","headers","common","Authorization","MessageStatus","created","render"],"mappings":"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","file":"js/chunk-2d0c1282.f2f8037f.js","sourcesContent":["<template>\n<!-- header -->\n    <header class=\"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow\">\n      <a class=\"navbar-brand col-md-3 col-lg-2 me-0 px-3 text-center\" href.preventDefault=\"#\">CLIMBER</a>\n      <button class=\"navbar-toggler position-absolute d-md-none collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#sidebarMenu\" aria-controls=\"sidebarMenu\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <ul class=\"navbar-nav px-3\">\n        <li class=\"nav-item text-nowrap\">\n          <a href='#' class=\"nav-link\" @click.prevent='logout'>Sign out</a>\n        </li>\n      </ul>\n    </header>\n<!-- siderBar -->\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <nav class=\"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse\">\n          <div class=\"position-sticky pt-3\">\n            <h5 class=\"text-center text-primary\">管理後台</h5>\n            <ul class=\"nav flex-column align-items-end\">\n              <li class=\"nav-item\">\n                <router-link to='/' class=\"nav-link text-primary\">\n                  <span data-feather=\"shopping-cart\"></span>\n                    回到前台\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to='/admin/admin_orders' class=\"nav-link text-primary\">\n                  <span data-feather=\"shopping-cart\"></span>\n                    訂單管理\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to='/admin' class=\"nav-link text-primary\">\n                  <span data-feather=\"shopping-cart\"></span>\n                    產品管理\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to=\"/admin/admin_coupons\" class=\"nav-link text-primary\">\n                  <span data-feather=\"users\"></span>\n                  優惠券管理\n                </router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link to=\"/admin/admin_article\" class=\"nav-link text-primary\">\n                  <span data-feather=\"users\"></span>\n                  文章管理\n                </router-link>\n              </li>\n            </ul>\n          </div>\n        </nav>\n      </div>\n    </div>\n<router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\nexport default {\n  inject: ['MessageStatus'],\n  data () {\n    return {\n      checkSuccess: false\n    }\n  },\n  methods: {\n    logout () {\n      const api = `${process.env.VUE_APP_URL}logout`\n      this.$http.post(api)\n        .then(res => {\n          if (res.data.success) {\n            document.cookie = 'week3homeworkTK=; expires=; path=/'\n            this.$router.push('/login')\n          } else {\n            console.log(res)\n          }\n        }).catch(err => {\n          this.$swal({\n            icon: 'error',\n            title: `${err.data.message}`\n          })\n        })\n    },\n    // 做checkapi\n    checkLogin () {\n      // const api = `${process.env.VUE_APP_URL}api/user/check`\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)week3homeworkTK\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = `${token}`\n\n        this.$http.post(`${process.env.VUE_APP_URL}api/user/check`)\n          .then(res => {\n            if (res.data.success) {\n              this.checkSuccess = true\n            } else {\n              // console.log('checkLoginRes', res)\n              this.MessageStatus(res, '登入')\n              this.$router.push('/login')\n            }\n          }).catch(err => {\n            this.$swal({\n              icon: 'error',\n              title: `${err.data.message}`\n            })\n          })\n      } else {\n        this.$router.push('/login')\n      }\n    }\n  },\n  created () {\n    this.checkLogin()\n  }\n}\n</script>\n","import { render } from \"./Admin.vue?vue&type=template&id=2597e4ed\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}