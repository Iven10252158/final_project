{"version":3,"sources":["webpack:///./src/views/admin/Admin_products.vue?e886","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/admin/Admin_products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?6218","webpack:///./src/components/DelProductModal.vue","webpack:///./src/components/DelProductModal.vue?e81d","webpack:///./src/views/admin/Admin_products.vue?fe6c"],"names":["aria-label","class","aria-hidden","pages","current_page","href","change","total_pages","item","index","key","props","methods","this","$emit","render","data-toggle","type","openModal","allProducts","id","src","imageUrl","title","$filters","currency","origin_price","price","is_enabled","pagination","getProducts","ref","product","tempProduct","updateProduct","delProduct","deleteProduct","tabindex","aria-labelledby","data-bs-dismiss","for","true-value","false-value","isNew","category","unit","min","rows","description","content","content2","checkSave","data","bsModal","mounted","$refs","innerProductModal","watch","showModal","show","hideModal","hide","checkDelete","delModal","components","ProductModal","DeleteModal","page","api","$http","get","then","res","success","products","console","log","catch","err","productModal","deleteModal","httpMethods","delete"],"mappings":"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","file":"js/chunk-06208fe4.088f73b4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin_products.vue?vue&type=style&index=0&id=3eb80ec2&lang=scss\"","<template>\n    <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n        <li class=\"page-item\" :class=\"{'disabled':pages.current_page===1}\">\n        <a class=\"page-link \" href=\"#\" aria-label=\"Previous\"\n        @click.prevent=\"change(pages.current_page-1)\">\n            <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n        </li>\n        <li class=\"page-item \" v-for=\"(item,index) in pages.total_pages\" :key=\"index\"\n            :class=\"{'active':pages.current_page===item}\">\n            <a class=\"page-link\" href=\"#\" @click.prevent=\"change(item)\">{{item}}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{'disabled':pages.current_page===pages.total_pages}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\n        @click.prevent=\"change(pages.current_page+1)\">\n            <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n        </li>\n    </ul>\n    </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    change (item) {\n      this.$emit('change-page', item)\n    }\n  }\n}\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=110d0920\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"container\">\n       <div class=\"row\">\n            <main class=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\">\n                <div class=\"d-flex justify-content-end mt-3\">\n                    <button type='button' class=\"btn btn-primary text-white\" @click=\"openModal('new')\">新增產品</button>\n                </div>\n                <table class=\"table table-hover mt-3 row table-responsive\" data-toggle=\"table\">\n                    <thead class=\"col-12\">\n                        <tr class='row'>\n                            <th class=\"col-3 d-none d-md-table-cell\">主要圖片</th>\n                            <th class=\"col-3\">產品名稱</th>\n                            <th class=\"col-2 col-md-1\">成本</th>\n                            <th class=\"col-2 col-md-1\">售價</th>\n                            <th class=\"col-2\">是否啟用</th>\n                            <th class=\"col-3 col-md-2\">編輯/刪除</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr class=\"row\" v-for='item in allProducts' :key=\"item.id\">\n                            <td class=\"col-3 d-none d-md-table-cell d-flex align-items-center\"><img :src=\"item.imageUrl\" class=\"img-fluid\"></td>\n                            <td class='col-3 d-flex align-items-center'>{{item.title}}</td>\n                            <td class='col-2 col-md-1  d-flex align-items-center'>{{$filters.currency(item.origin_price)}}</td>\n                            <td class='col-2 col-md-1  d-flex align-items-center'>{{$filters.currency(item.price)}}</td>\n                            <td class='col-2 col-md-2 d-flex align-items-center'>\n                                <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n                                <span v-else>未啟用</span>\n                            </td>\n                            <td class='col-3 col-md-2 d-flex align-items-center'>\n                                <div class=\"btn-group\">\n                                    <button type='button' class=\"editBtn btn btn-outline-primary\" @click=\"openModal('edit',item)\">編輯</button>\n                                    <button type='button' class=\"btn btn-outline-danger\" @click=\"openModal('delete',item)\">刪除</button>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class=\"d-flex justify-content-center\">\n                    <pagination :pages=\"pagination\" @change-page=\"getProducts\"></pagination>\n                    <product-modal ref='productModal' :product=\"tempProduct\" @check-save=\"updateProduct\"></product-modal>\n                    <delete-modal ref=\"deleteModal\" :delProduct=\"tempProduct\" @check-delete=\"deleteProduct\"></delete-modal>\n                </div>\n            </main>\n       </div>\n    </div>\n</template>\n\n<script>\nimport pagination from '@/components/Pagination.vue'\nimport ProductModal from '@/components/ProductModal.vue'\nimport DeleteModal from '@/components/DelProductModal.vue'\n\nexport default {\n  components: {\n    pagination,\n    ProductModal,\n    DeleteModal\n  },\n  data () {\n    return {\n      allProducts: [],\n      pagination: {},\n      tempProduct: {\n        content2: ''\n      }, // 資料的暫存區\n      isNew: false\n    }\n  },\n  methods: {\n    // 取得後台產品列表\n    getProducts (page = 1) {\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`\n      this.$http.get(api)\n        .then(res => {\n          if (res.data.success) {\n            const { products, pagination } = res.data\n            this.allProducts = products\n            this.pagination = pagination\n          } else {\n            console.log(res)\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n    },\n    // click執行openModal函式時，會帶入2個參數\n    openModal (isNew, item) {\n      // 利用參數來判斷開的modal是編輯的還是新增的\n      switch (isNew) {\n        case 'new':\n          this.$refs.productModal.showModal()\n          // 暫存資料區要清空，才能新增資料\n          this.tempProduct = {}\n          this.isNew = true\n          break\n        case 'edit':\n          this.$refs.productModal.showModal()\n          // 因為edit是要修改資料，所以要把原本的資料傳進去\n          this.tempProduct = { ...item }\n          this.isNew = false\n          break\n        case 'delete':\n          this.$refs.deleteModal.showModal()\n          this.tempProduct = { ...item }\n        //   console.log(this.tempProduct)\n      }\n    },\n    // 新增/編輯產品\n    updateProduct (tempProduct) {\n      // 先宣告新增的api\n      let api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product`\n      let httpMethods = 'post'\n      // 再用isNew判斷要使用新增的api or 修改的api\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\n        httpMethods = 'put'\n      }\n      this.$http[httpMethods](api, { data: this.tempProduct })\n        .then(res => {\n          if (res.data.success) {\n            this.getProducts()\n            console.log(res)\n          } else {\n            console.log(res)\n          }\n          this.$refs.productModal.hideModal()\n        }).catch(err => {\n          console.log(err)\n        })\n    },\n    // 刪除產品\n    deleteProduct (tempProduct) {\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\n      this.$http.delete(api)\n        .then(res => {\n          if (res.data.success) {\n            this.$refs.deleteModal.hideModal()\n            this.getProducts()\n            console.log(res)\n          } else {\n            console.log(res)\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n    }\n  },\n  mounted () {\n    this.getProducts()\n    // this.$refs.productModal.showModal()\n    // this.$refs.deleteModal.showModal()\n  }\n}\n\n</script>\n<style lang=\"scss\">\n  .editBtn{\n    &:hover{\n      color:#fff;\n    }\n  }\n</style>\n","<template>\n <!-- Modal -->\n<div class=\"modal fade\" ref='innerProductModal' tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span v-if=\"!isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n        </h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <p>圖片上傳</p>\n                <div class=\"border border-left border-3\"></div>\n            </div>\n            <div class=\"col-8\">\n                <div class=\"row form-group\">\n                    <div class=\"col-12\">\n                        <label for=\"title\">標題</label>\n                        <input type=\"text\" id=\"title\" class='form-control' v-model='tempProduct.title'>\n                        <div class=\"row form-group\">\n                            <div class=\"col-6\">\n                            <label for=\"category\">分類</label>\n                            <input type=\"text\" class='form-control' id='category' v-model=\"tempProduct.category\">\n                            </div>\n                            <div class=\"col-6\">\n                            <label for=\"unit\">單位</label>\n                            <input type=\"text\" class='form-control' id='unit' v-model=\"tempProduct.unit\">\n                            </div>\n                            <div class=\"col-6\">\n                            <label for=\"origin_price\">原價</label>\n                            <input type=\"number\" class='form-control' min='0' id='origin_price' v-model.number=\"tempProduct.origin_price\">\n                            </div>\n                            <div class=\"col-6\">\n                            <label for=\"price\">售價</label>\n                            <input type=\"number\" class='form-control' min='0' id='price' v-model.number=\"tempProduct.price\">\n                            </div>\n                            <hr class='mt-3'>\n                        </div>\n                        <label for=\"description\">產品描述</label>\n                        <textarea type=\"text\" rows=\"6\" class=\"form-control\" id=\"description\" v-model=\"tempProduct.description\"></textarea>\n                        <label for=\"content\">內容說明</label>\n                        <textarea type=\"text\" rows=\"6\" class=\"form-control\" id=\"content\" v-model=\"tempProduct.content\"></textarea>\n                        <label for=\"content2\">內容說明2</label>\n                        <textarea type=\"text\" rows=\"6\" class=\"form-control\" id=\"content2\" v-model=\"tempProduct.content2\"></textarea>\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"is_enabled\" v-model='tempProduct.is_enabled'>\n                        <label class=\"form-check-label\" for=\"is_enabled\" :true-value=\"1\" :false-value=\"0\">是否啟用</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"checkSave\">確定</button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n// 引入BS裡的Modal的方法\nimport Modal from 'bootstrap/js/dist/modal'\nexport default {\n  props: ['product'],\n  data () {\n    return {\n      bsModal: '',\n      isNew: false,\n      tempProduct: {}\n    }\n  },\n  mounted () {\n    this.bsModal = new Modal(this.$refs.innerProductModal)\n  },\n  // 在內層的productModal會接收來自外面的tempProduct傳進來的值，也就是props:['product']\n  // 但是內層接收到的值是“不可以”修改外面傳進來的值，所以可以再寫一個資料集tempProduct（內層的）來放外層傳進來的值\n  // 因為不允許被修改的關係，因此可以使用watch來監聽props的值，當product有更動時，當 product 的值有更動時（更動時機：重開編輯 Modal，product 會被重新賦值。程式碼），就會執行 this.tempProduct = this.product 這個動作，\n  // 讓子元件內的 data （tempProduct）去接替傳進來的 data（product），再用接替的那個 data 去修改值才不會出現錯誤\n  watch: {\n    product () {\n      this.tempProduct = this.product\n    }\n  },\n  methods: {\n    showModal () {\n      this.bsModal.show()\n    },\n    hideModal () {\n      this.bsModal.hide()\n    },\n    checkSave () {\n      this.$emit('check-save')\n    }\n  }\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=5839ca97\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <!-- Modal -->\n<div class=\"modal fade\" ref=\"delModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header bg-danger\">\n        <h5 class=\"modal-title text-white\">刪除商品</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <p>確定要刪除<span class=\"text-danger fw-bold\">{{delProduct.title}}</span>嗎？刪除後，無法復原喔！</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-danger\" @click=\"checkDelete\">確定刪除</button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal'\nexport default {\n  props: ['delProduct'],\n  data () {\n    return {\n      delModal: ''\n    }\n  },\n  methods: {\n    showModal () {\n      this.delModal.show()\n    },\n    hideModal () {\n      this.delModal.hide()\n    },\n    checkDelete () {\n      this.$emit('checkDelete')\n    }\n  },\n  mounted () {\n    this.delModal = new Modal(this.$refs.delModal)\n  }\n}\n</script>\n","import { render } from \"./DelProductModal.vue?vue&type=template&id=1a6937bb\"\nimport script from \"./DelProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Admin_products.vue?vue&type=template&id=3eb80ec2\"\nimport script from \"./Admin_products.vue?vue&type=script&lang=js\"\nexport * from \"./Admin_products.vue?vue&type=script&lang=js\"\n\nimport \"./Admin_products.vue?vue&type=style&index=0&id=3eb80ec2&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}