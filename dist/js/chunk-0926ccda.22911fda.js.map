{"version":3,"sources":["webpack:///./src/views/OrderCheckout.vue","webpack:///./src/views/OrderCheckout.vue?e44e","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/OrderCheckout.vue?62a2"],"names":["class","style","orderForm","is_paid","products","item","key","src","product","imageUrl","title","program","$filters","currency","final_total","user","name","tel","email","address","id","total","dateAndTime","type","payOrder","components","NavBar","data","orderID","create_at","methods","getOrder","this","$route","params","order_Id","console","log","url","$http","get","then","res","order","Date","toLocaleString","post","success","mounted","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-0926ccda.22911fda.js","sourcesContent":["<template>\n<NavBar></NavBar>\n<div class=\"banner bg-cover d-flex justify-content-center align-items-center\" style=\"background-image:url('https://images.unsplash.com/photo-1592805145006-353114433db5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=750&q=80');height:400px\"></div>\n<div class=\"container my-4\">\n    <div class=\"row d-flex justify-content-center\">\n        <div class=\"col-6\">\n            <div v-if=\"orderForm.is_paid\">\n                <h2 class=\"text-center text-danger\">付款完成</h2>\n            </div>\n            <div class=\"border p-3\">\n                <h4 class=\"text-primary\">訂單資料</h4>\n                <hr>\n                <div class=\"d-flex mt-1\" v-for=\"item in orderForm.products\" :key=\"item\">\n                    <img :src=\"item.product.imageUrl\" style=\"width: 80px; height: 80px; object-fit: cover;\">\n                    <div class=\"ps-3 pt-1\">\n                        <p class=\"mb-2\">{{item.product.title}}</p>\n                        <p class=\"text-danger mb-2\">{{item.product.program}}</p>\n                        <p>NT$ {{$filters.currency(item.final_total)}}</p>\n                    </div>\n                </div>\n                <hr class=\"mt-0\">\n                <h4 class=\"mb-3\">訂購人資訊</h4>\n                <div class=\"row\" v-if=\"orderForm.user\">\n                    <div class=\"col-6 h6 text-secondary\">姓名</div>\n                    <div class=\"col-6\">{{orderForm.user.name}}</div>\n                    <div class=\"col-6 h6 text-secondary\">電話</div>\n                    <div class=\"col-6\">{{orderForm.user.tel}}</div>\n                    <div class=\"col-6 h6 text-secondary\">Email</div>\n                    <div class=\"col-6\">{{orderForm.user.email}}</div>\n                    <div class=\"col-6 h6 text-secondary\">地址</div>\n                    <div class=\"col-6\">{{orderForm.user.address}}</div>\n                </div>\n                <hr>\n                <div class=\"row\" v-if=\"orderForm\">\n                    <div class=\"col-6 h6 text-secondary\">訂單編號</div>\n                    <div class=\"col-6\">{{orderForm.id}}</div>\n                    <div class=\"col-6 h6 text-secondary\">付款金額</div>\n                    <div class=\"col-6\">NT$ {{$filters.currency(orderForm.total)}}</div>\n                    <div class=\"col-6 h6 text-secondary\">付款狀態</div>\n                    <div class=\"col-6\" :class=\"{'text-primary':orderForm.is_paid}\">{{orderForm.is_paid? '付款成功':'尚未付款'}}</div>\n                </div>\n                <div class=\"d-flex\" v-if=\"orderForm.is_paid\">\n                    <div class=\"col-6 h6 text-secondary\">訂單成立</div>\n                    <div class=\"col-6 ps-2 text-primary\">{{dateAndTime}}</div>\n                </div>\n                <div class=\"d-flex justify-content-end\">\n                    <button type=\"button\" class=\"btn btn-primary mt-4 mb-1 w-100\" @click.prevent=\"payOrder\"\n                    :class=\"{'disabled':orderForm.is_paid}\">確認付款去</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport NavBar from '@/components/Navbar.vue'\nexport default {\n  components: {\n    NavBar\n  },\n  data () {\n    return {\n      orderID: '',\n      create_at: '',\n      orderForm: [],\n      dateAndTime: ''\n    }\n  },\n  methods: {\n    getOrder () {\n      this.orderID = this.$route.params.order_Id\n      console.log(this.orderID)\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/order/${this.orderID}`\n      this.$http.get(url)\n        .then(res => {\n          this.orderForm = res.data.order\n          this.create_at = res.data.order.create_at\n          this.dateAndTime = new Date(this.create_at * 1000).toLocaleString()\n          console.log(this.dateAndTime)\n          console.log(res)\n        })\n    },\n    payOrder () {\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/pay/${this.orderID}`\n      this.$http.post(url)\n        .then(res => {\n          console.log(res)\n          if (res.data.success) {\n            this.getOrder()\n          }\n        })\n    }\n  },\n  mounted () {\n    this.getOrder()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n//   .orderForm{\n//       height: 100vh;\n//   }\n  .bg-cover{\n      background-position: center center;\n      background-size: cover;\n  }\n</style>\n","import { render } from \"./OrderCheckout.vue?vue&type=template&id=4e9ff3d4\"\nimport script from \"./OrderCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheckout.vue?vue&type=script&lang=js\"\n\nimport \"./OrderCheckout.vue?vue&type=style&index=0&id=4e9ff3d4&lang=scss\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderCheckout.vue?vue&type=style&index=0&id=4e9ff3d4&lang=scss\""],"sourceRoot":""}