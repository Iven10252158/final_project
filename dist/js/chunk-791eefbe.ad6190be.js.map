{"version":3,"sources":["webpack:///./src/views/front/OrderCheckout.vue","webpack:///./src/views/front/OrderCheckout.vue?c132","webpack:///./src/views/front/OrderCheckout.vue?ff39","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/Footer.vue","webpack:///./src/components/Footer.vue?c832"],"names":["class","style","active","isLoading","orderForm","products","item","key","is_paid","src","product","imageUrl","title","program","$filters","currency","final_total","user","name","tel","email","address","id","total","dateAndTime","to","type","payOrder","inject","components","Footer","data","orderID","create_at","methods","getOrder","this","$route","params","order_Id","url","$http","get","then","res","order","Date","toLocaleString","catch","err","console","log","post","success","emitter","emit","mounted","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error","script"],"mappings":"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","file":"js/chunk-791eefbe.ad6190be.js","sourcesContent":["<template>\n    <Loading :active=\"isLoading\">\n          <div class=\"loadingio-spinner-dual-ring-7s087i3q3b3\"><div class=\"ldio-us6frdv3wm\">\n          <div></div><div><div></div></div>\n          </div></div>\n    </Loading>\n    <div class=\"banner bg-cover d-flex justify-content-center align-items-center\" style=\"background-image:url('https://storage.googleapis.com/vue-course-api.appspot.com/iven_vue3_course/1627615007422.jpeg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=VALCCcOmRFUCmv8jFQWLrKV94N6QyWdDBp9KTLyokLq9lJL3JOpFfBbNHxmW1t7eP4jPWzVZZbsOH4FV%2BRsZXDF1CrtOVQg9QCF8gpOPex%2BNJzL%2BtVjdmzYrIgCBYJQe5w2Yy0DOzQHlHjZhwCDeR6zWzcRVcFNIjSr675bWt%2FpVkE412zgwOKwlGQE6bQG38vw0MEWsymeHG3na2j5Q6UTveeuU9iQBc%2FMVp4tQFsp%2BNJl4YTKavmFNFdTVh5FFtTlPtOaz4id62h9KoaC12rnhuBA1h3b5lhYMaGItEZMffZRFyCfKst5OqqRIGvBbX5JmM7hG6%2BBtaWVHv4Jurw%3D%3D');height:400px\"></div>\n    <div class=\"container my-4\">\n      <h4 class=\"text-primary mb-0 py-3\">訂單資料</h4>\n      <div class=\"row innerHeight border px-3 d-flex justify-content-center pt-3\" v-for=\"item in orderForm.products\" :key=\"item\">\n        <div class=\"col-md-6\">\n          <div v-if=\"orderForm.is_paid\">\n            <h2 class=\"text-center text-danger\">付款完成</h2>\n          </div>\n          <div class=\"d-flex flex-column\">\n            <img class=\"img-fluid\" :src=\"item.product.imageUrl\" style=\"height: 200px; object-fit: cover;\">\n            <div class=\"pt-1\">\n              <p class=\"mb-2\">{{item.product.title}}</p>\n              <p class=\"text-danger mb-2\">{{item.product.program}}</p>\n              <p>NT$ {{$filters.currency(item.final_total)}}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <hr class=\"mt-0 d-block d-md-none\">\n          <div>\n            <h4 class=\"mb-3\">訂購人資訊</h4>\n            <div class=\"row\" v-if=\"orderForm.user\">\n              <div class=\"col-3 h6 text-secondary\">姓名</div>\n              <div class=\"col-9\">{{orderForm.user.name}}</div>\n              <div class=\"col-3 h6 text-secondary\">電話</div>\n              <div class=\"col-9\">{{orderForm.user.tel}}</div>\n              <div class=\"col-3 h6 text-secondary\">Email</div>\n              <div class=\"col-9\">{{orderForm.user.email}}</div>\n              <div class=\"col-3 h6 text-secondary\">地址</div>\n              <div class=\"col-9\">{{orderForm.user.address}}</div>\n            </div>\n            <hr>\n            <div class=\"row\" v-if=\"orderForm\">\n              <div class=\"col-3 h6 text-secondary\">訂單編號</div>\n              <div class=\"col-9\">{{orderForm.id}}</div>\n              <div class=\"col-3 h6 text-secondary\">付款金額</div>\n              <div class=\"col-9\">NT$ {{$filters.currency(orderForm.total)}}</div>\n              <div class=\"col-3 h6 text-secondary\">付款狀態</div>\n              <div class=\"col-9\" :class=\"{'text-primary':orderForm.is_paid}\">{{orderForm.is_paid? '付款成功':'尚未付款'}}</div>\n            </div>\n            <div class=\"d-flex\" v-if=\"orderForm.is_paid\">\n              <div class=\"col-3 h6 text-secondary\">訂單成立</div>\n              <div class=\"col-9 ps-2 text-primary\">{{dateAndTime}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"d-flex justify-content-end\">\n        <template v-if=\"orderForm.is_paid\">\n          <router-link to=\"/products\" class=\"btn btn-outline-primary mt-4 mb-0 w-25 me-3 stepLink\">\n            續繼購物\n          </router-link>\n        </template>\n        <button type=\"button\" class=\"btn btn-primary w-25 mt-4 mb-0 text-white\" @click.prevent=\"payOrder\"\n        :class=\"{'disabled':orderForm.is_paid}\">確認付款去</button>\n      </div>\n    </div>\n    <Footer class=\"footer\"></Footer>\n</template>\n\n<script>\nimport Footer from '@/components/Footer.vue'\nexport default {\n  inject: ['emitter'],\n  components: {\n    Footer\n  },\n  data () {\n    return {\n      orderID: '',\n      create_at: '',\n      orderForm: [],\n      dateAndTime: '',\n      isLoading: false\n    }\n  },\n  methods: {\n    getOrder () {\n      this.orderID = this.$route.params.order_Id\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/order/${this.orderID}`\n      this.$http.get(url)\n        .then(res => {\n          this.orderForm = res.data.order\n          this.create_at = res.data.order.create_at\n          this.dateAndTime = new Date(this.create_at * 1000).toLocaleString()\n        }).catch(err => {\n          console.log(err)\n        })\n    },\n    payOrder () {\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/pay/${this.orderID}`\n      this.$http.post(url)\n        .then(res => {\n          if (res.data.success) {\n            this.isLoading = false\n            this.getOrder()\n            this.emitter.emit('update-qty')\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n    }\n  },\n  mounted () {\n    this.getOrder()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$text-color:#fff;\n$main-text-color:rgb(90, 147, 88);\n    .bg-cover{\n      background-position: center center;\n      background-size: cover;\n    }\n    .stepLink{\n      margin-top: 80px;\n      color:$main-text-color;\n        &:hover{\n          color:$text-color;\n        }\n    }\n    .innerHeight{\n      min-height: calc( 59vh - 72px)\n    }\n    .footer{\n      height: 72px;\n    }\n</style>\n","import { render } from \"./OrderCheckout.vue?vue&type=template&id=5c84e35c\"\nimport script from \"./OrderCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./OrderCheckout.vue?vue&type=script&lang=js\"\n\nimport \"./OrderCheckout.vue?vue&type=style&index=0&id=5c84e35c&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OrderCheckout.vue?vue&type=style&index=0&id=5c84e35c&lang=scss\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n    <footer class=\"d-flex flex-column flex-sm-row justify-content-sm-center align-items-center\n      text-white bg-secondary py-3\">\n        <div class=\"pt-2\">\n          <h5 class=\"mb-0\">僅作業練習，無任何商業用途</h5>\n        </div>\n    </footer>\n</template>\n","import { render } from \"./Footer.vue?vue&type=template&id=1ab35195\"\nconst script = {}\nscript.render = render\n\nexport default script"],"sourceRoot":""}