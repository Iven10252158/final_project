{"version":3,"sources":["webpack:///./src/views/Order.vue?f89c","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Order.vue","webpack:///./src/views/Order.vue?3d30"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","style","for","type","createOrder","errors","id","name","placeholder","rules","form","user","email","address","tel","as","message","data","orderId","cart","methods","api","order","console","log","$http","post","then","res","$router","push","getCartList","isLoading","mounted","render"],"mappings":"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","file":"js/chunk-631be101.e46a0f8f.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Order.vue?vue&type=style&index=0&id=c4092010&lang=scss\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <!-- <NavBar></NavBar> -->\n  <div class=\"banner bg-cover d-flex justify-content-center align-items-center pe-5\" style=\"background-image:url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80');height:400px\">\n      <div class=\"product-text text-white\">\n          <h1 class=\"pt-1\">訂單資訊</h1>\n      </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"pt-3 mb-3\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-6\">\n          <div class=\"h4 text-center mb-0 mt-2\">訂購人資料</div>\n            <Form  v-slot=\"{ errors }\" @submit=\"createOrder\">\n                <label for=\"email\">帳號</label>\n                <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control my-2\"\n                :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\"\n                rules=\"email|required\" v-model=\"form.user.email\"></Field>\n                <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n\n                <label for=\"name\">訂購人姓名</label>\n                <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control my-2\"\n                :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入訂購人姓名\"\n                rules=\"required\" v-model=\"form.user.name\"></Field>\n                <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n\n                <label for=\"address\">收件地址</label>\n                <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control my-2\"\n                :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入收件地址\"\n                rules=\"required\" v-model=\"form.user.address\"></Field>\n                <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n\n                <label for=\"tel\">收件人電話</label>\n                <Field id=\"tel\" name=\"電話號碼\" class=\"form-control my-2\" type=\"number\"\n                :class=\"{ 'is-invalid': errors['電話號碼'] }\" placeholder=\"請輸入訂購人電話\"\n                rules=\"min:7|required\" v-model=\"form.user.tel\"></Field>\n                <ErrorMessage name=\"電話號碼\" class=\"invalid-feedback\"></ErrorMessage>\n                <label for=\"message\">留言</label>\n                <Field id=\"message\" name=\"message\" type=\"text\" as=\"textarea\" class=\"form-control my-2\"\n                  v-model=\"form.message\"></Field>\n                <div class=\"d-flex justify-content-end\">\n                    <button type=\"submit\" class=\"btn btn-primary my-3 text-white\">確認送出</button>\n                </div>\n            </Form>\n        </div>\n        </div>\n        </div>\n      </div>\n</template>\n\n<script>\n// import NavBar from '@/components/Navbar.vue'\nexport default {\n  // components: {\n  //   NavBar\n  // },\n  data () {\n    return {\n      orderId: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          address: '',\n          tel: ''\n        },\n        message: ''\n      },\n      cart: []\n    }\n  },\n  methods: {\n    createOrder () {\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      console.log(order)\n      console.log(api)\n      this.$http.post(api, { data: order })\n        .then(res => {\n          console.log(res)\n          this.orderId = res.data.orderId\n          console.log(this.orderId)\n          this.$router.push(`/ordercheckout/${this.orderId}`)\n        })\n    },\n    getCartList () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/cart`\n      this.$http.get(api)\n        .then(res => {\n          this.isLoading = false\n          this.cart = res.data.data\n          // console.log('購物車', res)\n          // console.log(this.cart)\n        })\n    }\n  },\n  mounted () {\n    this.getCartList()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .bg-cover{\n    background-position: center center;\n    background-size: cover;\n  }\n</style>\n","import { render } from \"./Order.vue?vue&type=template&id=c4092010\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=c4092010&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}