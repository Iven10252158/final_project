{"version":3,"sources":["webpack:///./src/views/Login.vue?291d","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","style","for","ref","errors","id","name","type","placeholder","rules","account","signIn","isShow","password","change","inject","data","methods","this","user","username","$http","post","then","res","success","token","expired","MessageStatus","document","cookie","Date","$router","push","catch","err","console","log","render"],"mappings":"gHAAA,W,2DCCA,yBAAsO,OAAjOA,MAAM,qBAAqBC,MAAA,8L,YACzBD,MAAM,oE,GACJA,MAAM,kBAAkBC,MAAA,iB,GACtBD,MAAM,a,EACT,yBAA+C,MAA3CA,MAAM,+BAA8B,MAAE,G,EAExC,yBAA6B,SAAtBE,IAAI,SAAQ,MAAE,G,EAMrB,yBAA6C,SAAtCA,IAAI,WAAWF,MAAM,QAAO,MAAE,G,GAUhCA,MAAM,Q,GAEAE,IAAI,UAAUF,MAAM,a,0OAxBzC,EACE,yBA+BI,MA/BJ,EA+BI,CA9BF,yBA6BM,MA7BN,EA6BM,CA5BJ,yBA2BM,MA3BN,EA2BM,CA1BJ,EACA,yBAuBO,GAvBmBG,IAAI,QAAM,C,8BAClC,gBADcC,EACd,EADcA,OACd,MADoB,CACpB,EACA,yBAEuE,GAFhEC,GAAG,QAAQC,KAAK,QAAQC,KAAK,QAAQP,MAAK,CAAC,eAAc,cACxCI,EAAO,WAAYI,YAAY,UACvDC,MAAM,iB,WAA0B,EAAAC,Q,qDAAA,EAAAA,QAAO,IAAG,QAAK,sBAAQ,EAAAC,OAAM,Y,yCAC7D,yBAAmE,GAArDL,KAAK,QAAQN,MAAM,qBAEjC,EAC2B,EAAAY,Q,yBAA3B,yBAEkE,G,MAF3DP,GAAG,WAAyBC,KAAK,KAAKC,KAAK,WAAWP,MAAK,CAAC,eAAc,cACzDI,EAAO,QAASI,YAAY,QACpDC,MAAM,W,WAAoB,EAAAI,S,qDAAA,EAAAA,SAAQ,IAAG,QAAK,sBAAQ,EAAAF,OAAM,Y,oEAExD,yBAEkE,G,MAF3DN,GAAG,WAAkBE,KAAK,OAAOD,KAAK,KAAKN,MAAK,CAAC,eAAc,cAC9CI,EAAO,QAASI,YAAY,QACpDC,MAAM,W,WAAoB,EAAAI,S,qDAAA,EAAAA,SAAQ,IAAG,QAAK,sBAAQ,EAAAF,OAAM,Y,0CACxD,yBAAgE,GAAlDL,KAAK,KAAKN,MAAM,qBAE9B,yBAKQ,MALR,EAKQ,CAJJ,yBAAoD,SAA7CO,KAAK,WAAWF,GAAG,UAAW,QAAK,8BAAE,EAAAS,QAAA,EAAAA,OAAA,uBAC5C,yBAEQ,QAFR,EAEQ,CADR,yBAAuC,0CAA9B,EAAAF,OAAM,0B,UAIrB,yBAAuG,UAA/FL,KAAK,SAASP,MAAM,wCAAyC,QAAK,0DAAU,EAAAW,QAAA,EAAAA,OAAA,qBAAM,eAAE,a,kBAOrF,GACbI,OAAQ,CAAC,iBACTC,KAFa,WAGX,MAAO,CACLN,QAAS,GACTG,SAAU,GACVD,QAAQ,IAGZK,QAAS,CACPH,OADO,WAELI,KAAKN,QAAUM,KAAKN,QAEtBD,OAJO,WAIG,WACFQ,EAAO,CACXC,SAAUF,KAAKR,QACfG,SAAUK,KAAKL,UAEjBK,KAAKG,MAAMC,KAAX,UAAmB,wCAAnB,gBAA0DH,GACvDI,MAAK,SAACC,GACL,GAAIA,EAAIR,KAAKS,QAAS,CACpB,MAA2BD,EAAIR,KAAvBU,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACf,EAAKC,cAAcJ,EAAK,MAExBK,SAASC,OAAT,0BAAqCJ,EAArC,qBAAuD,IAAIK,KAAKJ,GAAhE,YACA,EAAKK,QAAQC,KAAK,eAElB,EAAKL,cAAcJ,EAAK,SAEzBU,OAAM,SAAAC,GACPC,QAAQC,IAAIF,S,UC9DtB,EAAOG,OAASA,EAED,gB","file":"js/chunk-75600db3.e473b0f1.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=3f5a2b90&lang=scss\"","<template>\n<div class=\"bg-cover bg-height\" style=\"background-image:url('https://images.unsplash.com/photo-1460526620382-de41fd0d55bd?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80');\"></div>\n  <div class=\"login container d-flex justify-content-center align-items-center\">\n    <div class=\"card mt-3  py-3\" style=\"width:400px\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title text-center mb-3\">登入</h5>\n        <Form v-slot=\"{ errors }\" ref=\"form\">\n          <label for=\"email\">帳號</label>\n          <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入電子信箱\"\n          rules=\"email|required\" v-model=\"account\" @keyup.enter='signIn'></Field>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n\n          <label for=\"password\" class=\"mt-3\">密碼</label>\n          <Field id=\"password\" v-if=\"isShow\" name=\"密碼\" type=\"password\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['密碼'] }\" placeholder=\"請輸入密碼\"\n          rules=\"required\" v-model=\"password\" @keyup.enter='signIn'></Field>\n\n          <Field id=\"password\" v-else type=\"text\" name=\"密碼\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['密碼'] }\" placeholder=\"請輸入密碼\"\n          rules=\"required\" v-model=\"password\" @keyup.enter='signIn'></Field>\n          <ErrorMessage name=\"密碼\" class=\"invalid-feedback\"></ErrorMessage>\n\n          <div class=\"mt-2\">\n              <input type=\"checkbox\" id=\"showPsw\" @click=\"change\">\n              <label for=\"showPsw\" class=\"text-dark\">\n              <small>{{isShow?'顯示密碼':'隱藏密碼'}}</small>\n              </label>\n            </div>\n        </Form>\n        <button type=\"button\" class=\"btn btn-primary w-100 mt-3 text-white\" @click.prevent=\"signIn\">登入</button>\n      </div>\n    </div>\n</div>\n</template>\n\n<script>\nexport default {\n  inject: ['MessageStatus'],\n  data () {\n    return {\n      account: '',\n      password: '',\n      isShow: true\n    }\n  },\n  methods: {\n    change () {\n      this.isShow = !this.isShow\n    },\n    signIn () {\n      const user = {\n        username: this.account,\n        password: this.password\n      }\n      this.$http.post(`${process.env.VUE_APP_URL}admin/signin`, user)\n        .then((res) => {\n          if (res.data.success) {\n            const { token, expired } = res.data\n            this.MessageStatus(res, '登入')\n            // 把token、expired存到cookie裡\n            document.cookie = `week3homeworkTK=${token}; expires=${new Date(expired)}; path=/`\n            this.$router.push('/admin')\n          } else {\n            this.MessageStatus(res, '登入')\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$background-color:#fff;\n  .bg-cover{\n    background-position: center center;\n    background-size: cover;\n  }\n  .bg-height{\n    position: relative;\n    width: 100%;\n    height: 100vh;\n  }\n  .login{\n    position: absolute;\n    top:10px ;\n    bottom:0 ;\n    left:0 ;\n    right:0 ;\n  }\n  .card{\n    background:$background-color;\n  }\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=3f5a2b90\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=3f5a2b90&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}